 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 In this chapter we introduce the basic notions of secant varieties and ranks. 
 
 \section{Secant varieties}
 \label{geometrySecants-section-secants}
 % Author: Alessandro Oneto
 
 \begin{definition}[Join of varieties]
 \label{geometrySecants-definition-join}
 % Author: Alessandro Oneto
 Let $X,Y \subseteq \mathbb{P}^N$ be two algebraic varieties. Consider the incidence correspondence 
 \[
     \itJoin^\circ(X,Y) = \{(x,y,p) ~:~ x \neq y,~p \in \langle x,y \rangle\} \subset X \times Y \times \bbP^N.
 \]
 This is a quasi-projective variety and its Zariski closure is the {\it abstract join} $\itJoin(X,Y) = \overline{\itJoin^\circ(X,Y)}$ of $X$ and $Y$. Consider the projections 
 \[
     \xymatrix{
         X \times Y \times \bbP^N \ar[d]^{\pi_1} \ar[r]^(0.65){\pi_2} & \bbP^N\\
         X \times Y & .
     }
 \]
 The \emph{join} of $X$ and $Y$ is the scheme-theoretic image 
 \[
     j(X,Y) = \pi_2(\itJoin(X,Y))
 \]
 This can also be regarded as the the closure of the union of all possible lines joining a point of $X$ and a point of $Y$, i.e.,
 \[
     j(X,Y) = \overline{ \bigcup_{\substack{x \in X, y \in Y \\ x \neq y}} \langle x,y \rangle} \subset \bbP^N.
     % \{ p \in \mathbb{P}^N : p \in \langle x , y \rangle \text{ for some $x \in X, y \in Y$}\}}
 \]
 The projection $\pi_1$ realizes, locally, $\itJoin(X,Y)$ as a $\bbP^1$-bundle over (an open subset) of $X \times Y$. In particular, if $X$ and $Y$ are irreducible, than $Join(X,Y)$ is irreducible and, consequently, $j(X,Y)$ is irreducible as well.
 
 Given varieties $X_1 \vvirg X_s \subseteq \bbP^N$, one can define their join recursively
 \[
     j( X_1 \vvirg X_s) = j( j(X_1 \vvirg X_{s-1}), X_s);
 \]
 geometrically this is 
 \[
     j( X_1 \vvirg X_s) = \overline{\bigcup_{\substack{x_1 \in X_1,\ldots,x_s \in X_s \\ \{x_1,\ldots,x_s\} \text{ indipendent}}} \langle x_1,\ldots,x_s \rangle} \subset \bbP^N.
 \]
 \end{definition}
 
 Secant varieties are obtained by consecutive joins of a variety with itself.
 \begin{definition}[Secant variety]
 \label{geometrySecants-definition-secantvariety}
 % Author: Alessandro Oneto
 Let $X \subseteq \mathbb{P}^N$ be an projective variety. The {\it $s$-th secant variety} of $X$ is 
 \[
 \sigma_s(X) = \overline{\bigcup_{\substack{x_1,\ldots,x_s \in X \\ \{x_1,\ldots,x_s\} \text{ indipendent}}} \langle x_1,\ldots,x_s \rangle} \subset \bbP^N.
 \]
 Recursively, $\sigma_1(X) = X$ and $\sigma_s(X) = j(X,\sigma_{s-1}(X))$.
 
 The abstract $s$-th secant variety of $X$ can be defined as the abstract join of $s$-copies of $X$ as defined above. However, if is often convenient to consider a symmetrized version. Let $X^{\cdot s} = X^{\times s} / \frakS_s$ be the symmetrized product of $s$ copies of $X$. Then, the {\it abstract $s$-th secant variety} of $X$ is 
 \[
     \Sec_s(X) = \overline{\left\{(\{x_1,\ldots,x_s\},p) ~:~ \substack{\{x_1,\ldots,x_s\} \text{ independent} \\ p \in \langle x_1,\ldots,x_s \rangle}\right\}} \subset X^s \times \bbP^N.
 \]
 Then, $\sigma_s(X) = \pi_2(\Sec_s(X))$, where $\pi_2 : X^s \times \bbP^N \rightarrow \bbP^N$ is the projection on the last factor.

 As explained in \ref{geometrySecants-definition-join} for join varieties, if $X$ is irreducible then all its secant varieties are irreducible.  
 \end{definition}
 
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 \section{Rank and Border Rank}
 \label{geometrySecants-section-rank}
 % Author: Alessandro Oneto
 
 One of the main motivations to study secant varieties in relation to tensors is because they allow for a geometric definition of {\it rank} with respect to any projective variety and, in particular, to the ones defined in \ref{introduction-section-decomposable_tensors}. 
 
 \begin{definition}
 \label{geometrySecants-definition-Xrank}
 % Author: Alessandro Oneto
     Let $X \subseteq \bbP^N$ be a projective variety and let $p \in \bbP^N$. The \emph{$X$-rank} of $p$ is the smallest number of points of $X$ whose linear span contains $p$. In other words,
     \[
         \rank_X(p) = \min\{s ~:~ \exists x_1,\ldots,x_s \in X, ~ p \in \langle x_1,\ldots,x_s \rangle\}.
     \]
 \end{definition}
 
 It is natural to ask if the $X$-rank is \emph{finite} for any point of the ambient space. The first observation is that $X$ needs to be \emph{non-degenerate}, i.e., not contained in any proper linear subspace.

 \begin{lemma}
    \label{geometrySecants-lemma-secant_of_linear}
    % Author: Alessandro Oneto
    If $L \subset \bbP^N$ is a projective linear space, then $\sigma_s(L) = L$ for any $s$.
 \end{lemma}
 \begin{proof}
    If $L$ is linear, then for any $x_1,\ldots,x_s \in L$ we have $\langle x_1,\ldots,x_s \rangle \subset L$. In particular, $\sigma_s(L) \subset L$. The opposite inclusion is trivial.
 \end{proof}
 \begin{corollary}
    \label{geometrySecants-corollary-secant_of_degenerate_is_degenerate}
    % Author: Alessandro Oneto
    If $X$ is degenerate, i.e., $X \subset L \subsetneq \bbP^N$ for some linear space $L$, then $\sigma_s(X) \subset L$ for any $s$.
 \end{corollary}
 \begin{proof}
    By construction and by \ref{geometrySecants-lemma-secant_of_linear}, $\sigma_s(X) \subset \sigma_s(L) = L$.
 \end{proof}

 It is possible to see that non-degeneracy is also sufficient: i.e., secant varieties of a non-degenerate variety eventually feel the ambient space, see \ref{geometrySecants-lemma-secants_of_non_degenerate}. This is a corollary of the fact that, given a projective algebraic variety $X$, if $\sigma_s(X) = \sigma_{s+1}(X)$ then $\sigma_s(X)$ is a linear space, see \ref{geometrySecants-lemma-palatini_1}. This allows us to well-define the notion of $X$-rank for generic points.
 
 \begin{definition}
     \label{geometrySecants-definition-generic_rank}
     % Author: Alessandro Oneto
     Let $X \subset \bbP^N$ be a non-degenerate algebraic variety over an algebraically closed field. The \emph{generic $X$-rank} is the rank of a generic point of $\bbP^N$, i.e., the rank that occur on a Zariski-dense subset of the ambient space. Equivalently, the generic $X$-rank corresponds to the first secant variety of $X$ filling the ambient space, i.e., 
     \[
         \rank_X^\circ = \min\{s ~:~ \sigma_s(X) = \bbP^N\}.
     \]
     We denote by $\rank_X^{\max}$ the \emph{maximal $X$-rank} among all points $p \in \bbP^N$. 
 \end{definition}

 \begin{remark}
    \label{geometrySecants-remark-generic_rank_strategy}
    % Author: Alessandro Oneto
    A common geometric approach to compute generic ranks is through the study of dimensions of secant varieties. Indeed, if we know all dimensions of secant varieties of a variety $X$ we also know which is the first secant variety filling the ambient space, i.e., the generic $X$-rank. We dedicate \ref{geometrySecants-chapter-DimensionsSecants} to the fascinating story on the study of dimensions of secant varieties which has its roots in the XIX century and still offers many challenges and open questions.
 \end{remark}

 %%%%
 % UNDERLINE THAT OVER THE REALS THERE IS NOT GENERIC BUT TYPICAL RANK + ADD REFERENCE TO CHAPTER ABOUT REAL RANKS
 %%%%

 Now, the fact that, given a non-degenerate variety $X$ defined over an algebraically closed field, the $X$-rank is finite for any point of the ambient space can be deduced by the following easy topological argument coming from \cite{BT15}. 
 
 \begin{theorem}
    \label{geometrySecants-theorem-BT_maxrank_upperbound}
    % Author: Alessandro Oneto
    Let $X \subset \bbP^N$ be a non-degenerate variety. Then, $\rank_X^{\max} \leq 2\rank_X^\circ$. 
    %Moreover, in characteristic zero, if $\sigma_{\rank^\circ_X-1}(X)$ is an hypersurface, then $\rank_X^{\max} \leq 2\rank_X^\circ-1$.
 \end{theorem}
 \begin{proof}
    Let $U$ be the Zariski open subset of $\bbP^N$ such that if $p \in U$ then $\rk_X(p) = \rk^\circ_X$. For any $q \in \bbP^N$ consider the line $\langle p,q \rangle$ and, in particular, consider $p' \in U \cap \langle p,q \rangle$. Then, $\rank_X(p') = \rank_X^\circ$ and \[\rank_X(q) \leq \rank_X(p) + \rank_X(p') = 2\rank_X^\circ.\] 
 \end{proof}

 %%%%
 % ADD REFERENCE TO CHAPTER "MAXIMAL RANKS"
 %%%%

  Clearly, if a point $p \in \bbP^N$ has $X$-rank equal to $r$, then $p \in \sigma_r(X)$. However, the converse is not true in general. The following example is classical. Actually, for most of varieties of tensors defined in \ref{introduction-section-decomposable_tensors} the notion of rank is not lower semicontinuous.
 
 \begin{example}[$X$-rank is not always lower semicontinuous]
   \label{geometrySecants-example-Xrank_semicontinuous}
   % Author: Alessandro Oneto
   Let $X = \nu_3(\bbP^1) \subset \bbP^3$ be the rational normal cubic. If we identify the ambient space with the projective space of degree-$3$ binary homogeneous polynomials $\bbP(S^3\Bbbk^2)$, then $X$ is the variety of cubes of binary linear forms, see \ref{introduction-definition-symmetric_tensors}. Consider $xy^2 \in S^3\Bbbk^2$. Then, 
   \[
      xy^2 = \lim_{\epsilon \to 0} \frac{1}{3\epsilon}\left( x^3 - (x-\epsilon y)^3\right),
 \]
  in particular, $xy^2 \in \sigma_2(X)$ since it is the limit of points lying on secant lines. However, it is an easy exercise to check that $\rank_3(xy^2) = 3$. 
 \end{example}
 
 The existence of examples as the one of \ref{geometrySecants-example-Xrank_semicontinuous} motivate the following notion of rank.

 \begin{definition}[Border rank]
     \label{geometrySecants-definition-border_rank}
     % Author: Alessandro Oneto
     Let $X \subseteq \bbP^N$ be a projective variety and let $p \in \bbP^N$. The \emph{border $X$-rank} of $p$ is the smallest $s$ such that $p$ belongs to the $s$-th secant variety of $X$, that is 
     \[
         \brank_X(p) = \min\{s ~:~ p \in \sigma_s(X)\}.
     \]
 \end{definition}
 
 %% add historical remark on definition of border rank
 %% add reference to Bini example on matrix multiplication 
 
 \subsection{Ranks of tensors}
 \label{geometrySecants-subsection-ranks}
 % Author: Alessandro Oneto
 In \ref{geometrySecants-definition-Xrank} we defined the notion of $X$-rank with respect to any projective variety. When dealing with tensors, the idea is to adapt the variety $X$ to the tensor decomposition that one wants to consider. In particular, the following broadly known and used notions of ranks for tensors come from choosing $X$ as one of the varieties of decomposable tensors defined in \ref{introduction-section-decomposable_tensors}.
 
 \begin{definition}[Tensor rank]
 \label{geometrySecants-definition-tensor_rank}
 % Author: Alessandro Oneto
     The \emph{tensor rank} is the rank of a tensor $T \in V_1 \ootimes V_d$ with respect to the Segre variety $\Seg(V_1,\ldots,V_d)$ (see \ref{introduction-definition-Segre}); i.e., 
     \[
         \rank(T) = \min\left\{s ~:~ T = \sum_{i=1}^s v_{i,1}\ootimes v_{i,d}, ~ v_{i,j} \in V_j\right\}.
     \]
 \end{definition}
\begin{example}
 \label{geometrySecants-example-tensor_rank}
 % Author: Alessandro Oneto
In the case of matrices, that is when $d=2$, the notion of tensor rank coincides with the usual notion of rank of matrices. However, the case of matrices is geometrically very different from the case of higher-order tensors ($d\geq 3$): for example, unlike matrix rank, tensor rank is not lower-semicontinuous in general, as seen in \ref{geometrySecants-example-Xrank_semicontinuous}. 
\end{example}
 
 \begin{definition}[Symmetric tensor rank]
 \label{geometrySecants-definition-symmetric_tensor_rank}
 % Author: Alessandro Oneto
     The \emph{symmetric tensor rank} is the rank of a tensor $T \in S^d(V)$ with respect to the Veronese variety $\nu_d(\bbP V)$ (see \ref{introduction-definition-Veronese}); i.e., 
     \[
         \rank_d(T) = \min\left\{s ~:~ T = \sum_{i=1}^s v_{i}^{\otimes d}, ~ v_{i} \in V\right\}.
     \]
     By interpreting symmetric tensors as homogeneous polynomials, as explained in \ref{introduction-subsection-symmetric_tensors}, the symmetric tensor rank is often called \emph{Waring rank}: this is the smallest possible length of a decompositions of a homogeneous polynomial as sum of powers of linear forms.
 \end{definition}  
 
 \begin{definition}[Partially-symmetric tensor rank]
 \label{geometrySecants-definition-partially_symmetric_tensor_rank}
 % Author: Alessandro Oneto
     Let $\underline{d} = (d_1,\ldots,d_m)$. The \emph{partially-symmetric tensor rank} is the rank of $T \in S^{\underline{d}}(V_1,\ldots,V_m)$ with respect to the Segre-Veronese variety $\nu_{\underline{d}}(V_1,\ldots,V_m)$ (see \ref{introduction-definition-SegreVeronese}); i.e., 
     \[
         \rank_{\underline{d}}(T) = \min\left\{s ~:~ T = \sum_{i=1}^s v_{i,1}^{d_1}\ootimes v_{i,m}^{d_m}, ~ v_{i,j} \in V_j\right\}.
     \]
 \end{definition}
 
 \begin{definition}[Skew-symmetric tensor rank]
 \label{geometrySecants-definition-skewsymmetric_tensor_rank}
 % Author: Alessandro Oneto
     The \emph{skew-symmetric tensor rank} is the rank of $T \in \Lambda^dV$ with respect to the Grassmannian $\Gr_d(V)$ (see \ref{introduction-definition-Grassmannian}) in its Pl\"ucker embedding; i.e., 
     \[
         \rank_{\wedge}(T) = \min\left\{s ~:~ T = \sum_{i=1}^s v_{i,1}\wwedge v_{i,d}, ~ v_{i,j} \in V_j\right\}.
     \]
 \end{definition}